"use strict";!function(angular){var snugme=angular.module("snug-me",["snugfeed.service.user"]);snugme.controller("meController",function($scope,snugfeedUserService){function validate(){$("#password-change-form").form({fields:{password:["minLength[6]","empty"],password_confirm:["minLength[6]","empty"]}})}$scope.loading=!1,$scope.passwordChanged=!1,validate(),$scope.submit=function($event,form){$event.preventDefault(),$("#password-change-form").form("is valid")&&($scope.loading=!0),snugfeedUserService.updatePassword(form).then(function(resp){"success"==resp.data.status&&($scope.passwordChanged=!0),$scope.loading=!1,$scope.password={}},function(error){$scope.loading=!1,$("#login-form").form("add errors",["There was an error"])})}})}(angular);